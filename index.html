<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pixelthot</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bitcount+Grid+Single+Ink:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body class="terminal">
  <main>
    <div class="phase terminal-phase fade-in"></div>
    <div class="terminal-image"></div>

    <div class="phase final-phase">
      <div class="matrix-cell text-cell">
        Youth and pleasure are vanity .. and times permits us miserable mortals, puffed up with emptiness, thus to wander about, until finally, coming to a tardy consciousness of our sins, we shall learn to know ourselves.<br><br>

        I have taken pride in others, never in myself, and however insignificant I may have been, I have always been still less important in my own judgment.<br><br>

        My style, as many claimed, was clear and forcible; but to me it seemed weak and obscure.<br><br>

        <p class="no-wrap">For habit and play has almost the potency of <input type="text" class="blank" maxlength="6"
                                                                                                         placeholder="..." autofocus> itself.</p>
      </div>

      <!-- Image Cells -->
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/plus175speed.gif" alt="Animated gif">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/material.png" alt="Material">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/friends.png" alt="Friends">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/id.png" alt="ID">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/soulgraph.svg" alt="Heart">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/neura.png" alt="Neura">
      </div>

      <div class="matrix-cell text-cell-small">
        essential todo: <br>
        1. more motion<br>
        2. better mental; see color<br>
        3. make more money ( $1,000,000 )<br>
        4. write more songs<br>
        5. exercise often (don't forget the sauna)<br>
        <br>
        infiltrate culture.
      </div>

      <div class="matrix-cell image-cell">
        <img src="dopewebshit/red_dunes.png" alt="Red Dunes">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/collapse.png" alt="Collapse">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/popup.mov" alt="Popup">
      </div>
      <div class="matrix-cell image-cell">
        <img src="dopewebshit/heartbreak-os.mov" alt="Heartbreak OS">
      </div>
    </div>
  </main>

  <script>
    const terminal = document.querySelector('.terminal-phase');
    const finalPhase = document.querySelector('.final-phase');
    const body = document.body;
    const terminalImage = document.querySelector('.terminal-image');

    // escaped HTML to show in terminal
    const source = [
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); } const ', red: false },
      { text: 'kiss', red: true },
      { text: ' = "on_your_lovely_lips"; while..(children.of_sin) { console.log("we are"); }', red: false },
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); }', red: false },
      { text: 'const kiss = "on_your_lovely_lips";', red: false },
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); } const ', red: false },
      { text: 'kiss', red: false },
      { text: ' = "on_your_lovely_lips"; while..(children.of_sin) { console.log("we are"); }', red: false },
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); }', red: false },
      { text: 'const kiss = "on_your_lovely_lips";', red: false },
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); } const ', red: false },
      { text: 'kiss', red: false },
      { text: ' = "on_your_lovely_lips"; while..(children.of_sin) { console.log("we are"); }', red: false },
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); }', red: false },
      { text: 'const kiss = "on_your_lovely_lips";', red: false },
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); } const ', red: false },
      { text: 'kiss', red: false },
      { text: ' = "on_your_lovely_lips"; while..(children.of_sin) { console.log("we are"); }', red: false },
      { text: 'let lipstick_black = "smeared"; // calluses', red: false },
      { text: 'if (eyes.slurred) { alert("feeling sick"); }', red: false },
      { text: 'const kiss = "on_your_lovely_lips";', red: false },
    ];

    function runAnimation() {
      terminal.innerHTML = "";
      body.classList.remove('clean');
      body.classList.add('terminal');
      finalPhase.classList.remove('show');
      terminal.style.display = "block";
      terminal.style.opacity = "1";
      terminalImage.style.opacity = "1";
    
      let sourceToUse = source;
      if (window.innerWidth >= 1024) {
        sourceToUse = source.slice(0, 7);
      }
    
      let delay = 0;
      sourceToUse.forEach(segment => {
        segment.text.split("").forEach(ch => {
          const span = document.createElement('span');
          span.textContent = ch;
          if(segment.red) span.style.color = 'red';
          span.style.animation = "fadeChar 0.02s forwards";
          span.style.animationDelay = `${delay * 0.01}s`;
          terminal.appendChild(span);
          delay++;
        });
      });
    
      const totalTime = delay * 8 + 2000;
      setTimeout(() => {
        terminal.style.opacity = "0";
        terminalImage.style.opacity = "0";
        setTimeout(() => {
          terminal.style.display = "none";
          terminalImage.style.display = "none";
          body.classList.remove('terminal');
          body.classList.add('clean');
          finalPhase.classList.add('show');
        }, 1000);
      }, totalTime);
    }
    
    window.addEventListener('load', runAnimation);
  </script>
</body>
</html>
